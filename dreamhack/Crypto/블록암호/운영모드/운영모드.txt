블록암호 - 운영모드(Mode of Operation) :
    DES나 AES와 같은 블록 암호는 한 번에 한 블록의 평문을 암호화하기 위해 설계되었습니다. 
    DES는 64비트 , AES는 128비트의 평문을 한 블록으로 처리합니다.
    UTF-8로 인코딩할 때, 알파벳 한 글자는 8비트에 대응되므로 DES와 AES는 각각 8글자, 16글자를 한번에 암호화할 수 있습니다.

    그런데 일반적으로 사용되는 평문의 길이는 이 길이들을 넘는 경우가 많습니다.
    운영 모드(Mode of Operation)는 블록 암호로 이러한 다양한 크기의 데이터를 처리할 수 있도록 고안된 블록 암호의 사용 방법입니다.

    운영 모드에는 여러 종류가 있으며, 블록 암호를 사용하는 서비스는 각각의 장단점을 고려하여 운영 모드를 선택합니다.

    이번 장에서는 평문을 블록 단위로 만드는 데 사용하는 패딩(Padding)과 블록 암호의 대표적인 운영모드인 ECB, CBC, CTR에 대해서 알아보겠습니다.



코스에서는 대표적인 운영 모드로 ECB, CBC, CTR만을 소개했지만, 
이 외에도 CTR과 유사한 CFB, OFB, 그리고 현재 네트워크 통신에서 많이 사용되고 있는 GCM 등 다양한 모드가 더 있습니다.

패딩(Padding): 
    평문의 길이가 블록 크기의 배수가 되도록 평문의 끝에 데이터를 추가하는 기법. 
    대표적으로 비트 패딩, ANSI X.923 패딩, PKCS#7 패딩 등이 있다.

운영 모드(Operation Mode): 
    여러 블록의 평문을 암호화하는 방법. 
    대표적으로 ECB, CBC, CTR, CFB, OFB가 있다.

ECB(Electronic Code Block): 
    각 평문 블록을 모두 같은 키를 이용하여 독립적으로 암호화한다. 
    병렬 처리가 가능하지만, 평문의 패턴이 암호문에 나타나므로 혼돈속성이 약하며, 재전송 공격(Replay Attack)에 취약하다.

CBC(Cipher Block Chaining): 
    현재 블록을 직전 블록의 암호화 결과와 XOR하고, 암호화한다. 
    각 블록의 암호화 과정에 이전 블록과 IV가 영향을 주므로, 같은 평문 블록도 매번 다르게 암호화된다. 
    공격자가 IV를 조작하여 평문의 첫 번째 블록을 조작할 위험이 있으므로, 송신자는 IV의 무결성을 보장해야 한다.

CTR(Counter): 
    임의의 난수(Nonce)와 평문 블록의 인덱스를 결합하고, 이를 블록 암호에 입력하여 키를 생성한다. 
    암호문의 블록은 이 키를 평문 블록과 XOR하여 생성한다. 병렬 처리가 가능하며, 다른 운영모드에 비해 구현이 간편하다.











